{"mappings":"CCAC,AAAA,eAIK,EAHJ,IAAM,EAAM,SAAS,aAAa,CAAC,QAC7B,EAAS,KAiDf,SAAS,EAAc,CAAI,CAAE,CAAO,EAClC,IAAI,EAAmB,EAAI,aAAa,CAAC,0BACzC,GAAI,AAAQ,MAAR,EAAc,CAChB,IAAI,EAAK,SAAS,aAAa,CAAC,OAEhC,EAAG,YAAY,CAAC,QAAS,sBACzB,EAAG,SAAS,CAAG;AAAf;A;A,8BAGwB,EAAE,EAAQ,IAAI,CAAC;AAAf;A,QAEtB,CAAC,CACH,EAAiB,WAAW,CAAC,EAC/B,MAAO,GAAI,AAAQ,SAAR,EAAiB,CAC1B,IAAI,EAAK,SAAS,aAAa,CAAC,OAEhC,EAAG,YAAY,CAAC,QAAS,yBACzB,EAAG,SAAS,CAAG;AAAf;A,8BAEwB,EAAE,EAAQ,QAAQ,CAAC;AAAnB,8BACA,EAAE,EAAQ,IAAI,CAAC;AAAf;A,QAEtB,CAAC,CACH,EAAiB,WAAW,CAAC,EAC/B,MAAO,GAAI,AAAQ,UAAR,EAAkB,CAC3B,IAAI,EAAK,SAAS,aAAa,CAAC,OAEhC,EAAG,YAAY,CAAC,QAAS,UACzB,EAAG,SAAS,CAAG,EACf,EAAiB,WAAW,CAAC,EAC/B,CAEA,EAAiB,SAAS,CAAG,EAAiB,YAAY,AAC5D,CA9EA,EAAI,aAAa,CAAC,cAAc,gBAAgB,CAAC,QAAS,WACxD,IAAI,EAAW,SAAS,aAAa,CAAC,aAAa,KAAK,AAEhC,CAAA,IAApB,EAAS,MAAM,GAGnB,EAAO,IAAI,CAAC,UAAW,GACvB,EAAQ,EACR,EAAI,aAAa,CAAC,gBAAgB,SAAS,CAAC,MAAM,CAAC,UACnD,EAAI,aAAa,CAAC,gBAAgB,SAAS,CAAC,GAAG,CAAC,UAClD,GAEA,EACG,aAAa,CAAC,8BACd,gBAAgB,CAAC,QAAS,WACzB,IAAI,EAAU,EAAI,aAAa,CAAC,+BAA+B,KAAK,AAE9C,CAAA,GAAlB,EAAQ,MAAM,GAGlB,EAAc,KAAM,CAClB,SAAU,EACV,KAAM,CACR,GACA,EAAO,IAAI,CAAC,OAAQ,CAClB,SAAU,EACV,KAAM,CACR,GACA,EAAI,aAAa,CAAC,+BAA+B,KAAK,CAAG,GAC3D,GAEF,EACG,aAAa,CAAC,2BACd,gBAAgB,CAAC,QAAS,WACzB,EAAO,IAAI,CAAC,WAAY,GACxB,OAAO,QAAQ,CAAC,IAAI,CAAG,OAAO,QAAQ,CAAC,IAAI,AAC7C,GAEF,EAAO,EAAE,CAAC,SAAU,SAAU,CAAM,EAClC,EAAc,SAAU,EAC1B,GAEA,EAAO,EAAE,CAAC,OAAQ,SAAU,CAAO,EACjC,EAAc,QAAS,EACzB,EAmCF","sources":["<anon>","public/code.js"],"sourcesContent":["(function() {\n    const app = document.querySelector(\".app\");\n    const socket = io();\n    let uname;\n    app.querySelector(\"#join-user\").addEventListener(\"click\", function() {\n        let username = document.querySelector(\"#username\").value;\n        if (username.length === 0) return;\n        socket.emit(\"newuser\", username);\n        uname = username;\n        app.querySelector(\".join-screen\").classList.remove(\"active\");\n        app.querySelector(\".chat-screen\").classList.add(\"active\");\n    });\n    app.querySelector(\".chat-screen #send-message\").addEventListener(\"click\", function() {\n        let message = app.querySelector(\".chat-screen #message-input\").value;\n        if (message.length == 0) return;\n        renderMessage(\"my\", {\n            username: uname,\n            text: message\n        });\n        socket.emit(\"chat\", {\n            username: uname,\n            text: message\n        });\n        app.querySelector(\".chat-screen #message-input\").value = \"\";\n    });\n    app.querySelector(\".chat-screen #exit-chat\").addEventListener(\"click\", function() {\n        socket.emit(\"exituser\", uname);\n        window.location.href = window.location.href;\n    });\n    socket.on(\"update\", function(update) {\n        renderMessage(\"update\", update);\n    });\n    socket.on(\"chat\", function(message) {\n        renderMessage(\"other\", message);\n    });\n    function renderMessage(type, message) {\n        let messageContainer = app.querySelector(\".chat-screen .messages\");\n        if (type == \"my\") {\n            let el = document.createElement(\"div\");\n            el.setAttribute(\"class\", \"message my-message\");\n            el.innerHTML = `\r\n          <div>\r\n            <div class=\"name\">You</div>\r\n            <div class=\"text\">${message.text}</div>\r\n          </div>\r\n        `;\n            messageContainer.appendChild(el);\n        } else if (type == \"other\") {\n            let el = document.createElement(\"div\");\n            el.setAttribute(\"class\", \"message other-message\");\n            el.innerHTML = `\r\n          <div>\r\n            <div class=\"name\">${message.username}</div>\r\n            <div class=\"text\">${message.text}</div>\r\n          </div>\r\n        `;\n            messageContainer.appendChild(el);\n        } else if (type == \"update\") {\n            let el = document.createElement(\"div\");\n            el.setAttribute(\"class\", \"update\");\n            el.innerText = message;\n            messageContainer.appendChild(el);\n        }\n        // Scroll chat to end\n        messageContainer.scrollTop = messageContainer.scrollHeight;\n    }\n})();\n\n//# sourceMappingURL=index.bc75ccab.js.map\n","(function () {\r\n  const app = document.querySelector(\".app\");\r\n  const socket = io();\r\n\r\n  let uname;\r\n\r\n  app.querySelector(\"#join-user\").addEventListener(\"click\", function () {\r\n    let username = document.querySelector(\"#username\").value;\r\n\r\n    if (username.length === 0) {\r\n      return;\r\n    }\r\n    socket.emit(\"newuser\", username);\r\n    uname = username;\r\n    app.querySelector(\".join-screen\").classList.remove(\"active\");\r\n    app.querySelector(\".chat-screen\").classList.add(\"active\");\r\n  });\r\n\r\n  app\r\n    .querySelector(\".chat-screen #send-message\")\r\n    .addEventListener(\"click\", function () {\r\n      let message = app.querySelector(\".chat-screen #message-input\").value;\r\n\r\n      if (message.length == 0) {\r\n        return;\r\n      }\r\n      renderMessage(\"my\", {\r\n        username: uname,\r\n        text: message,\r\n      });\r\n      socket.emit(\"chat\", {\r\n        username: uname,\r\n        text: message,\r\n      });\r\n      app.querySelector(\".chat-screen #message-input\").value = \"\";\r\n    });\r\n\r\n  app\r\n    .querySelector(\".chat-screen #exit-chat\")\r\n    .addEventListener(\"click\", function () {\r\n      socket.emit(\"exituser\", uname);\r\n      window.location.href = window.location.href;\r\n    });\r\n\r\n  socket.on(\"update\", function (update) {\r\n    renderMessage(\"update\", update);\r\n  });\r\n  \r\n  socket.on(\"chat\", function (message) {\r\n    renderMessage(\"other\", message);\r\n  });\r\n  function renderMessage(type, message) {\r\n    let messageContainer = app.querySelector(\".chat-screen .messages\");\r\n    if (type == \"my\") {\r\n      let el = document.createElement(\"div\");\r\n\r\n      el.setAttribute(\"class\", \"message my-message\");\r\n      el.innerHTML = `\r\n          <div>\r\n            <div class=\"name\">You</div>\r\n            <div class=\"text\">${message.text}</div>\r\n          </div>\r\n        `;\r\n      messageContainer.appendChild(el);\r\n    } else if (type == \"other\") {\r\n      let el = document.createElement(\"div\");\r\n\r\n      el.setAttribute(\"class\", \"message other-message\");\r\n      el.innerHTML = `\r\n          <div>\r\n            <div class=\"name\">${message.username}</div>\r\n            <div class=\"text\">${message.text}</div>\r\n          </div>\r\n        `;\r\n      messageContainer.appendChild(el);\r\n    } else if (type == \"update\") {\r\n      let el = document.createElement(\"div\");\r\n\r\n      el.setAttribute(\"class\", \"update\");\r\n      el.innerText = message;\r\n      messageContainer.appendChild(el);\r\n    }\r\n    // Scroll chat to end\r\n    messageContainer.scrollTop = messageContainer.scrollHeight;\r\n  }\r\n})();\r\n"],"names":["uname","app","document","querySelector","socket","io","renderMessage","type","message","messageContainer","el","createElement","setAttribute","innerHTML","text","appendChild","username","innerText","scrollTop","scrollHeight","addEventListener","value","length","emit","classList","remove","add","window","location","href","on","update"],"version":3,"file":"index.bc75ccab.js.map"}